(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),i=(a(101),a(29)),o=a(11),m=(a(102),a(18)),s=a(14),u=a(40),d=a.n(u),_=Object(m.b)((function(e){return{cart:e.shop}}))((function(e){var t=e.cart,a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],o=c[1];return Object(n.useEffect)((function(){var e=0;t.forEach((function(t){e+=1})),o(e)}),[t,l]),r.a.createElement("div",{className:d.a.navbar},r.a.createElement(i.b,{to:"/"},r.a.createElement("h2",{className:d.a.navbar__logo},"Fruit store")),r.a.createElement(i.b,{to:"/cart"},r.a.createElement("div",{className:d.a.navbar__cart},r.a.createElement("h3",{className:d.a.cart__title},"Cart"),r.a.createElement("img",{className:d.a.cart__image,src:"https://image.flaticon.com/icons/svg/102/102276.svg",alt:"shopping cart"}),r.a.createElement("div",{className:d.a.cart__counter},Math.round(l,1)))))})),p=a(73),f=a.n(p),b=a(23),v=a.n(b),E=a(65),h=a(58),g=Object(h.b)({name:"shop",initialState:[],reducers:{addToCart:function(e,t){var a=t.payload,n=e.find((function(e){return e.id===a.id}));n?n.qty=n.qty+1:e.push(Object(E.a)(Object(E.a)({},a),{},{qty:1}))},removeFromCart:function(e,t){var a=t.payload;return e.filter((function(e){return e.id!==a}))},adjustItemQty:{prepare:function(e,t){return{payload:{id:e,qty:t}}},reducer:function(e,t){var a=t.payload,n=a.id,r=a.qty;console.log(n,r);var c=e.find((function(e){return e.id===n}));c&&(c.qty=+r)}}}}),y=g.reducer,N=g.actions,C=N.addToCart,x=N.removeFromCart,j=N.adjustItemQty,O=y,w=Object(m.b)(null,(function(e){return{addToCart:function(t){return e(C(t))}}}))((function(e){var t=e.product,a=e.addToCart;return Object(n.useEffect)((function(){console.log(t)})),r.a.createElement("div",{className:v.a.product},r.a.createElement("img",{className:v.a.product__image,src:t.image,alt:t.title}),r.a.createElement("div",{className:v.a.product__details},r.a.createElement("p",{className:v.a.details__title},t.title),r.a.createElement("p",{className:v.a.details__desc},t.description),r.a.createElement("p",{className:v.a.details__price},"VN\u0110 ",t.price,"/kg")),r.a.createElement("div",{className:v.a.product__buttons},r.a.createElement("button",{onClick:function(){return a(t)},className:"".concat(v.a.buttons__btn," ").concat(v.a.buttons__add)},"Add To Cart")))})),I=function(){var e=Object(n.useState)([{id:1,title:"Fruit 1",price:15e3,image:"https://images.unsplash.com/photo-1577234286642-fc512a5f8f11?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=375&q=80"},{id:2,title:"Fruit 2",price:2e4,image:"https://images.unsplash.com/photo-1464965911861-746a04b4bca6?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80"},{id:3,title:"Fruit 3",price:15e3,image:"https://images.unsplash.com/photo-1526318472351-c75fcf070305?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"},{id:4,title:"Fruit 4",price:32500,image:"https://images.unsplash.com/photo-1471943038886-87c772c31367?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=334&q=80"}]),t=Object(s.a)(e,2),a=t[0];t[1];return r.a.createElement("div",{className:f.a.products},a.map((function(e){return r.a.createElement(w,{key:e.id,product:e})})))},k=a(46),q=a.n(k),S=a(24),P=a.n(S),B=Object(m.b)(null,(function(e){return{adjustQty:function(t,a){return e(j(t,a))},removeFromCart:function(t){return e(x(t))}}}))((function(e){var t=e.item,a=e.adjustQty,c=e.removeFromCart,l=Object(n.useState)(t.qty),i=Object(s.a)(l,2),o=i[0],m=i[1];return r.a.createElement("div",{className:P.a.cartItem},r.a.createElement("img",{className:P.a.cartItem__image,src:t.image,alt:t.title}),r.a.createElement("div",{className:P.a.cartItem__details},r.a.createElement("p",{className:P.a.details__title},t.title),r.a.createElement("p",{className:P.a.details__desc},t.description),r.a.createElement("p",{className:P.a.details__price},"VN\u0110 ",t.price)),r.a.createElement("div",{className:P.a.cartItem__actions},r.a.createElement("div",{className:P.a.cartItem__qty},r.a.createElement("label",{htmlFor:"qty"},"Qty"),r.a.createElement("input",{min:"1",type:"number",id:"qty",name:"qty",value:o,step:"0.1",onChange:function(e){m(e.target.value),a(t.id,e.target.value),console.log(o)}})),r.a.createElement("button",{onClick:function(){return c(t.id)},className:P.a.actions__deleteItemBtn},r.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/709/709519.svg",alt:""}))))})),F=a(152),M=a(59),T=a(158),W=a(161),H=a(162),D=a(153),V=a(160),A=a(146),G=a(151),Y=a(154),Q=a(155),K=a(156),z=a(157),J=a(80),L=a.n(J),R=a(66),U=a.n(R),X=a(82),$=a(54),Z=a(74),ee=a(75),te=a(83),ae=a(81),ne=a(76),re=a(26),ce=a.n(re);function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\D+/g,"")}function ie(e){if(!e)return e;var t,a=ce.a.fns.cardType(e),n=le(e);switch(a){case"amex":t="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,15));break;case"dinersclub":t="".concat(n.slice(0,4)," ").concat(n.slice(4,10)," ").concat(n.slice(10,14));break;default:t="".concat(n.slice(0,4)," ").concat(n.slice(4,8)," ").concat(n.slice(8,12)," ").concat(n.slice(12,19))}return t.trim()}function oe(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=le(e),r=4;if(a.number){var c=ce.a.fns.cardType(a.number);r="amex"===c?4:3}return n.slice(0,r)}function me(e){var t=le(e);return t.length>=3?"".concat(t.slice(0,2),"/").concat(t.slice(2,4)):t}a(112);var se=function(e){Object(te.a)(a,e);var t=Object(ae.a)(a);function a(){var e;Object(Z.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={number:"",name:"",expiry:"",cvc:"",issuer:"",focused:"",formData:null},e.handleCallback=function(t,a){var n=t.issuer;a&&e.setState({issuer:n})},e.handleInputFocus=function(t){var a=t.target;e.setState({focused:a.name})},e.handleInputChange=function(t){var a=t.target;"number"===a.name?a.value=ie(a.value):"expiry"===a.name?a.value=me(a.value):"cvc"===a.name&&(a.value=oe(a.value)),e.setState(Object($.a)({},a.name,a.value))},e.handleSubmit=function(t){t.preventDefault();e.state.issuer;var a=Object(X.a)(t.target.elements).filter((function(e){return e.name})).reduce((function(e,t){return e[t.name]=t.value,e}),{});e.setState({formData:a}),e.form.reset()},e}return Object(ee.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.number,c=t.expiry,l=t.cvc,i=t.focused;t.issuer,t.formData;return r.a.createElement("div",{key:"Payment"},r.a.createElement("div",{className:"App-payment"},r.a.createElement(A.a,{container:!0,spacing:10},r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement(ne.a,{number:n,name:a,expiry:c,cvc:l,focused:i,callback:this.handleCallback})),r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement(T.a,{margin:"normal",fullWidth:!0,variant:"outlined",label:"Card Number",type:"tel",name:"number",className:"form-control",pattern:"[\\d| ]{16,22}",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus}),r.a.createElement("span",null),r.a.createElement("small",null,"E.g.: 49..., 51..., 36..., 37...")),r.a.createElement("div",{className:"form-group"},r.a.createElement(T.a,{margin:"normal",fullWidth:!0,variant:"outlined",label:"Name",type:"text",name:"name",className:"form-control",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-6"},r.a.createElement(T.a,{margin:"normal",fullWidth:!0,variant:"outlined",label:"Valid Thru",type:"tel",name:"expiry",className:"form-control",pattern:"\\d\\d/\\d\\d",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus})),r.a.createElement("div",null," "),r.a.createElement("div",{className:"col-6"},r.a.createElement(T.a,{margin:"normal",fullWidth:!0,variant:"outlined",label:"CVC",type:"tel",name:"cvc",className:"form-control",placeholder:"CVC",pattern:"\\d{3,4}",required:!0,onChange:this.handleInputChange,onFocus:this.handleInputFocus}))))))))}}]),a}(r.a.Component),ue=Object(F.a)((function(e){return{root:{width:1e3},header:{maxWidth:600,margin:"0 auto",padding:e.spacing(4,2,2,2)},form:{maxWidth:600,margin:"10 auto",padding:e.spacing(2,2,4,2)},fields:{margin:e.spacing(-1),display:"flex",flexWrap:"wrap","& > *":{flexGrow:1,margin:e.spacing(1)}},submitButton:{marginTop:e.spacing(2),width:"100%"},button:{marginRight:e.spacing(2),marginBottom:e.spacing(5)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},inform:{margin:e.spacing(5,5,5,5),width:800,height:400},gridItem:{}}}));var de=function(e){var t=ue(),a=e.open,c=e.onClose,l=(e.cart,e.totalPrice),o=Object(n.useState)(""),m=Object(s.a)(o,2),u=m[0],d=m[1],_=Object(n.useState)(""),p=Object(s.a)(_,2),f=p[0],b=p[1],v=Object(n.useState)(""),E=Object(s.a)(v,2),h=(E[0],E[1]),g=Object(n.useState)(""),y=Object(s.a)(g,2),N=y[0],C=y[1],x=Object(n.useState)(0),j=Object(s.a)(x,2),O=j[0],w=j[1],I=Object(n.useState)(new Set),k=Object(s.a)(I,2),q=k[0],S=k[1];Object(n.useEffect)((function(){console.log(l)}));var P=["Information","Payment"],B=function(e){return q.has(e)};return r.a.createElement(W.a,{maxWidth:"100%",onClose:c,open:a},r.a.createElement("div",null,r.a.createElement(H.a,{activeStep:O},P.map((function(e,t){var a={},n={};return 1===t&&(n.optional=r.a.createElement(M.a,{variant:"caption"},"Optional")),B(t)&&(a.completed=!1),r.a.createElement(D.a,Object.assign({key:e},a),r.a.createElement(V.a,n,e))}))),r.a.createElement("div",null,O===P.length?r.a.createElement("div",{className:t.inform},r.a.createElement(M.a,{variant:"h5",color:"primary"},r.a.createElement(L.a,null),r.a.createElement("span",null," "),"Thank you! Your order has been processed!"),r.a.createElement("form",{className:t.form},r.a.createElement("div",{className:t.fields},r.a.createElement(A.a,{container:!0,spacing:1},r.a.createElement(A.a,{item:!0,xs:6},r.a.createElement(G.a,null,r.a.createElement(Y.a,null,r.a.createElement(Q.a,{primary:"Name",secondary:u})),r.a.createElement(K.a,{variant:"inset",component:"li"}),r.a.createElement(Y.a,null,r.a.createElement(Q.a,{primary:"Telephone",secondary:N})),r.a.createElement(K.a,{variant:"inset",component:"li"}),r.a.createElement(Y.a,null,r.a.createElement(Q.a,{primary:"Address",secondary:f})),r.a.createElement(K.a,{variant:"inset",component:"li"}),r.a.createElement(Y.a,null,r.a.createElement(Q.a,{primary:"Order time",secondary:U()().format()})))),r.a.createElement(A.a,{item:!0,xs:6,className:t.gridItem},r.a.createElement(G.a,null,r.a.createElement(Y.a,null,r.a.createElement("h2",null," ",r.a.createElement(Q.a,{primary:"TOTAL PAYMENT",secondary:r.a.createElement("h1",null,"VN\u0110",l)}))),r.a.createElement(K.a,{variant:"inset",component:"li"})))))),r.a.createElement(i.b,{to:"/"},r.a.createElement(z.a,{variant:"contained",color:"primary",className:t.button,onClick:function(){window.location.reload()}},"All Done"))):r.a.createElement("div",null,r.a.createElement(M.a,{className:t.instructions},function(e){switch(e){case 0:return r.a.createElement("div",{className:t.inform},r.a.createElement(M.a,{variant:"subtitle2"},r.a.createElement("b",null,"Please fill your information")),r.a.createElement("form",{className:t.form},r.a.createElement("div",{className:t.fields},r.a.createElement(T.a,{required:!0,fullWidth:!0,label:"Name",name:"name",variant:"outlined",onChange:function(e){return d(e.target.value)}}),r.a.createElement(T.a,{required:!0,fullWidth:!0,label:"Telephone",name:"telephone",variant:"outlined",type:"tel",onChange:function(e){return C(e.target.value)}}),r.a.createElement(T.a,{required:!0,fullWidth:!0,label:"Address",name:"address",variant:"outlined",onChange:function(e){return b(e.target.value)}}),r.a.createElement(T.a,{required:!0,label:"Wishing time receive items",type:"datetime-local",defaultValue:U()().format(),InputLabelProps:{shrink:!0},variant:"outlined",onChange:function(e){return h(e.target.value)}}))));case 1:return r.a.createElement("div",{className:t.inform},r.a.createElement(M.a,{variant:"subtitle2"},r.a.createElement("b",null,"Choose your payment")),r.a.createElement("form",{className:t.form},r.a.createElement(se,null)));default:return"Unknown step"}}(O)),r.a.createElement("div",null,r.a.createElement(z.a,{disabled:0===O,onClick:function(){w((function(e){return e-1}))},className:t.button},"Back"),r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){var e=q;B(O)&&(e=new Set(e.values())).delete(O),w((function(e){return e+1})),S(e)},className:t.button},O===P.length-1?"Finish":"Next"))))))},_e=Object(m.b)((function(e){return{cart:e.shop}}))((function(e){var t=e.cart,a=Object(n.useState)(0),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(0),m=Object(s.a)(o,2),u=m[0],d=m[1],_=Object(n.useState)(!1),p=Object(s.a)(_,2),f=p[0],b=p[1];return Object(n.useEffect)((function(){var e=0,a=0;t.forEach((function(t){e+=t.qty,a+=t.qty*t.price})),d(e),i(a),console.log(l),console.log()}),[t,l,u,i,d]),r.a.createElement("div",{className:q.a.cart},r.a.createElement("div",{className:q.a.cart__items},t.map((function(e){return r.a.createElement(B,{key:e.id,item:e})}))),r.a.createElement("div",{className:q.a.cart__summary},r.a.createElement("h4",{className:q.a.summary__title},"Cart Summary"),r.a.createElement("div",null,t.map((function(e){return r.a.createElement("ul",null,r.a.createElement("li",null,e.title," x ",e.qty,"kg"))}))),r.a.createElement("div",null,r.a.createElement("b",null,"VN\u0110 ",l)),r.a.createElement("button",{className:q.a.summary__checkoutBtn,onClick:function(){return b(!0)}},"Proceed To Checkout")),r.a.createElement(de,{open:f,onClose:function(){return b(!1)},cart:t,totalPrice:l}))}));var pe=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(_,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:I}),r.a.createElement(o.b,{exact:!0,path:"/cart",component:_e}),r.a.createElement(o.a,{to:"/"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe={shop:O},be=Object(h.a)({reducer:fe});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,{store:be},r.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},23:function(e,t,a){e.exports={product:"Product_product__3W1EM",product__image:"Product_product__image__7ShFT",product__details:"Product_product__details__YvcMk",details__title:"Product_details__title__HYrOo",details__desc:"Product_details__desc__2xwIP",details__price:"Product_details__price__zrjqw",product__buttons:"Product_product__buttons__KGGTz",buttons__btn:"Product_buttons__btn__1HTA_",buttons__view:"Product_buttons__view__30B2w",buttons__add:"Product_buttons__add__3H3r1"}},24:function(e,t,a){e.exports={cartItem:"CartItem_cartItem__mooMi",cartItem__image:"CartItem_cartItem__image__3eEpM",cartItem__details:"CartItem_cartItem__details__31ofb",details__title:"CartItem_details__title__2K7vI",details__desc:"CartItem_details__desc__1kQpy",details__price:"CartItem_details__price__1ORCv",cartItem__actions:"CartItem_cartItem__actions__3MKCP",cartItem__qty:"CartItem_cartItem__qty__PqP8O",actions__deleteItemBtn:"CartItem_actions__deleteItemBtn__1jfEG"}},40:function(e,t,a){e.exports={navbar:"Navbar_navbar__13n3S",navbar__logo:"Navbar_navbar__logo__1kwo0",navbar__cart:"Navbar_navbar__cart__2US4Y",cart__title:"Navbar_cart__title__2meBE",cart__image:"Navbar_cart__image__7_wqK",cart__counter:"Navbar_cart__counter__wgHPD"}},46:function(e,t,a){e.exports={cart:"Cart_cart__3Es_V",cart__items:"Cart_cart__items__3JNjV",cart__summary:"Cart_cart__summary__bX6y-",summary__title:"Cart_summary__title__3ySwF",summary__price:"Cart_summary__price__18Pew",summary__checkoutBtn:"Cart_summary__checkoutBtn__1VzoA"}},73:function(e,t,a){e.exports={products:"Products_products__3Qx1_"}},96:function(e,t,a){e.exports=a(117)}},[[96,1,2]]]);
//# sourceMappingURL=main.f2803c64.chunk.js.map